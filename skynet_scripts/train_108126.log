data data_root /gpfs/scratch/bz957/skull_stripping /gpfs/scratch/bz957/skull_stripping
data data_names config/train_names.txt config/train_names.txt
data modality_postfix [T1w] ['T1w']
data label_postfix brain brain
data file_postfix nii.gz nii.gz
data with_ground_truth True True
data batch_size 5 5
data data_shape [19, 144, 144, 1] [19, 144, 144, 1]
data label_shape [11, 144, 144, 1] [11, 144, 144, 1]
data label_convert_source [0, 1] [0, 1]
data label_convert_target [0, 1] [0, 1]
data batch_slice_direction sagittal sagittal
data train_with_roi_patch False False
data label_roi_mask  None
data roi_patch_margin  None
network net_type MSNet MSNet
network net_name MSNet_sg MSNet_sg
network downsample_twice True True
network class_num 2 2
training learning_rate 1e-3 0.001
training decay 1e-7 1e-07
training maximal_iteration 2000 2000
training snapshot_iteration 500 500
training start_iteration 0 0
training test_iteration 10 10
training test_step 2 2
training model_pre_trained  None
training model_save_prefix model17/msnet_sg model17/msnet_sg
size of predicty: Tensor("MSNet_sg/final_pred/conv:0", shape=(5, 11, 144, 144, 2), dtype=float32)
2020-07-20 15:48:22.874905: I tensorflow/core/common_runtime/gpu/gpu_device.cc:940] Found device 0 with properties: 
name: Tesla V100-SXM2-32GB
major: 7 minor: 0 memoryClockRate (GHz) 1.53
pciBusID 0004:04:00.0
Total memory: 31.72GiB
Free memory: 31.41GiB
2020-07-20 15:48:22.874988: I tensorflow/core/common_runtime/gpu/gpu_device.cc:961] DMA: 0 
2020-07-20 15:48:22.875006: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971] 0:   Y 
2020-07-20 15:48:22.875025: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Creating TensorFlow device (/gpu:0) -> (device: 0, name: Tesla V100-SXM2-32GB, pci bus id: 0004:04:00.0)
Loading patient dataset/ds000102/sub-13 and modality T1w
Loading patient dataset/ds000102/sub-14 and modality T1w
Loading patient dataset/ds000102/sub-22 and modality T1w
Loading patient dataset/ds000102/sub-25 and modality T1w
Loading patient dataset/ds000102/sub-24 and modality T1w
Loading patient dataset/ds000102/sub-23 and modality T1w
Loading patient dataset/ds000102/sub-15 and modality T1w
Loading patient dataset/ds000102/sub-12 and modality T1w
Loading patient dataset/ds000102/sub-08 and modality T1w
Loading patient dataset/ds000102/sub-01 and modality T1w
Loading patient dataset/ds000102/sub-06 and modality T1w
Loading patient dataset/ds000102/sub-07 and modality T1w
Loading patient dataset/ds000102/sub-09 and modality T1w
Loading patient dataset/ds000102/sub-17 and modality T1w
Loading patient dataset/ds000102/sub-10 and modality T1w
Loading patient dataset/ds000102/sub-26 and modality T1w
Loading patient dataset/ds000102/sub-19 and modality T1w
Loading patient dataset/ds000102/sub-21 and modality T1w
Loading patient dataset/ds000102/sub-20 and modality T1w
Loading patient dataset/ds000102/sub-18 and modality T1w
Loading patient dataset/ds000102/sub-11 and modality T1w
Loading patient dataset/ds000102/sub-16 and modality T1w
Loading patient dataset/ds000102/sub-05 and modality T1w
Loading patient dataset/ds000102/sub-02 and modality T1w
Loading patient dataset/ds000102/sub-03 and modality T1w
Loading patient dataset/ds000102/sub-04 and modality T1w
Data load, 100.0% finished
self.in_size is [(256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176), (256, 256, 176)]
15:50:25 07/20/20 EDT n 0 loss 0.3617205
Traceback (most recent call last):
  File "train.py", line 125, in <module>
    train(config_file)
  File "train.py", line 112, in train
    np.savetxt(loss_file, np.asarray(loss_list))
  File "/gpfs/scratch/bz957/brats_skynet/lib/python3.6/site-packages/numpy/lib/npyio.py", line 1359, in savetxt
    open(fname, 'wt').close()
FileNotFoundError: [Errno 2] No such file or directory: 'model17/msnet_sg_loss.txt'

------------------------------------------------------------
Sender: LSF System <lsfadmin@skygpu25>
Subject: Job 108126: <#!/bin/bash;#BSUB -n 1;#BSUB -gpu "num=1:mode=shared:j_exclusive=yes";#BSUB -R "rusage[mem=2]";#BSUB -q gpu32;#BSUB -o /gpfs/scratch/bz957/skull_stripping/skynet_scripts/train_%J.log; . /gpfs/share/skynet/apps/anaconda3/etc/profile.d/conda.sh;conda activate /gpfs/scratch/bz957/brats_skynet;cd /gpfs/scratch/bz957/skull_stripping; python -u train.py config/train_sg.txt> in cluster <SkynetCluster> Exited

Job <#!/bin/bash;#BSUB -n 1;#BSUB -gpu "num=1:mode=shared:j_exclusive=yes";#BSUB -R "rusage[mem=2]";#BSUB -q gpu32;#BSUB -o /gpfs/scratch/bz957/skull_stripping/skynet_scripts/train_%J.log; . /gpfs/share/skynet/apps/anaconda3/etc/profile.d/conda.sh;conda activate /gpfs/scratch/bz957/brats_skynet;cd /gpfs/scratch/bz957/skull_stripping; python -u train.py config/train_sg.txt> was submitted from host <skynet01> by user <bz957> in cluster <SkynetCluster> at Mon Jul 20 15:23:05 2020
Job was executed on host(s) <skygpu25>, in queue <gpu32>, as user <bz957> in cluster <SkynetCluster> at Mon Jul 20 15:47:47 2020
</home/bz957> was used as the home directory.
</gpfs/scratch/bz957/skull_stripping/skynet_scripts> was used as the working directory.
Started at Mon Jul 20 15:47:47 2020
Terminated at Mon Jul 20 15:50:31 2020
Results reported at Mon Jul 20 15:50:31 2020

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
#BSUB -n 1
#BSUB -gpu "num=1:mode=shared:j_exclusive=yes"
#BSUB -R "rusage[mem=2]"
#BSUB -q gpu32
#BSUB -o /gpfs/scratch/bz957/skull_stripping/skynet_scripts/train_%J.log

. /gpfs/share/skynet/apps/anaconda3/etc/profile.d/conda.sh
conda activate /gpfs/scratch/bz957/brats_skynet
cd /gpfs/scratch/bz957/skull_stripping

python -u train.py config/train_sg.txt

------------------------------------------------------------

Exited with exit code 1.

Resource usage summary:

    CPU time :                                   135.27 sec.
    Max Memory :                                 6 GB
    Average Memory :                             2.52 GB
    Total Requested Memory :                     2.00 GB
    Delta Memory :                               -4.00 GB
    Max Swap :                                   -
    Max Processes :                              4
    Max Threads :                                12
    Run time :                                   159 sec.
    Turnaround time :                            1646 sec.

The output (if any) is above this job summary.

